<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Pizza Site</title>
        <link rel="stylesheet" href="./index.css" />
        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css"
        />
        <script
            src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin="anonymous"
        ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
        <script src="./cart.js"></script>
    </head>
    <body>
        <div class="ui top attached borderless massive menu background-red">
            <a class="item">
                <img
                    class="logo"
                    src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2021/02/pizzalian-logo.svg"
                />
            </a>
            <a class="item" href="./index.html"> Home </a>
            <a class="item" href="shop.html"> Shop </a>
            <a class="item" href="./index.html#contact">Contact</a>
            <div class="right menu">
                <a class="item">
                    <i class="user outline icon"></i>
                </a>
                <a class="item cart-total" href="./cart.html">
                    <i class="shopping cart icon"></i>
                    0 items $0,00
                </a>
            </div>
        </div>

        <!-- pizzas -->
        <div class="ui centered grid">
            <div class="three column row">
                <div class="column">
                    <h1 class="ui header">OUR DELICIOUS PIZZAS</h1>
                </div>
            </div>
        </div>

        <div class="ui centered grid">
            <div class="five column row">
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
            </div>
            <div class="five column row">
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui card border-dashed">
                        <div class="ui image pizza-item">
                            <img
                                src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                                class="visible content"
                            />
                        </div>
                        <div class="content">
                            <a class="header">Fantastic Iron Shoes</a>
                            <div class="meta">
                                <span>Pizza,</span>
                                <span>Uncategorized</span>
                            </div>
                        </div>
                        <div class="content">
                            <p>$99.99</p>
                        </div>
                        <div class="ui bottom attached button add-to-cart">
                            <i class="shopping cart icon"></i>
                            add to cart
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- pizzas -->

        <!-- portions -->

        <!-- modal-pizza -->
        <div class="ui modal pizza-item">
            <i class="close icon"></i>
            <div class="header">Pizza</div>
            <div class="image content">
                <div class="image">
                    <img
                        src="https://demothemedh.b-cdn.net/piizalian/wp-content/uploads/2019/12/p1-480x480.jpg"
                        class="visible content" width="400px"
                    />
                </div>
                <div class="description">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    Duis aute irure dolor in reprehenderit in voluptate velit
                    esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                    occaecat cupidatat non proident, sunt in culpa qui officia
                    deserunt mollit anim id est laborum.
                </div>
            </div>
        </div>
        <!-- modal-pizza -->
    </body>
    <script>
        function modalPizza(e) {
            $(".ui.modal.pizza-item").modal("show");
        }
        function modalWrapper(e) {
            $(".ui.modal.wrapper-item").modal("show");
        }
        function modalBurguer(e) {
            $(".ui.modal.burguer-item").modal("show");
        }
        function modalPortion(e) {
            $(".ui.modal.portion-item").modal("show");
        }

        const shopItems = document.getElementsByClassName("pizza-item");
        for (i = 0; i < shopItems.length; i++) {
            shopItems[i].addEventListener("click", modalPizza, false);
        }

        function buyItem (element) {
            return function () {
                const value = +element.parentElement.children[2].innerText.replace(/[^0-9]/, '')
                const name = element.parentElement.children[1].innerText.split('\n')[0]

                const total = addItem({ name, value })
                const finalValue = getFinalPrice()

                updateCartFinalPrice({ total: getTotalItems(), finalValue })
            }
        }
        const btnToBuy = document.getElementsByClassName("add-to-cart");
        for (i = 0; i < btnToBuy.length; i++) {
            btnToBuy[i].addEventListener("click", buyItem(btnToBuy[i]), false);
        }

        updateCartFinalPrice({
            total: getTotalItems(),
            finalValue: getFinalPrice()
        })
    </script>
</html>
